"use strict";const fr=new FileReader,uploadBtn=document.querySelector(".js__profile-trigger"),fileField=document.querySelector(".js__profile-upload-btn"),profileImage=document.querySelector(".js__profile-image"),profilePreview=document.querySelector(".js__profile-preview");function getImage(e){const t=e.currentTarget.files[0];fr.addEventListener("load",writeImage),fr.readAsDataURL(t)}function writeImage(){profileImage.style.backgroundImage=`url(${fr.result})`,profilePreview.style.backgroundImage=`url(${fr.result})`,form.photo=fr.result,setLocalStorage()}function fakeFileClick(){fileField.click()}uploadBtn.addEventListener("click",fakeFileClick),fileField.addEventListener("change",getImage);const arrowList=document.querySelectorAll(".js-button");for(let e=0;e<arrowList.length;e++)arrowList[e].addEventListener("click",getCollapsable);function getCollapsable(e){e.currentTarget.classList.toggle("changeArrow");const t=e.currentTarget.id;document.querySelector(".section-"+t).classList.toggle("hideCollapsable")}const inputList=document.querySelectorAll(".js-field");let inputValue,inputId,form={palette:1,name:"",job:"",phone:"",email:"",linkedin:"",github:"",photo:"url(https://i.picasion.com/pic90/275001457e7c33cd30cbc32e7de2aabe.gif)"};function listenSaveField(){for(let e=0;e<inputList.length;e++)inputList[e].addEventListener("keyup",saveField)}function saveField(e){inputValue=e.currentTarget.value,inputId=e.currentTarget.id,form[inputId]=inputValue,paintCard(),listenSaveField(),setLocalStorage()}function paintCard(){document.querySelector(".js-nameCard").innerHTML=form.name||"Nombre completo",document.querySelector(".js-positionCard").innerHTML=form.job||"Puesto",document.querySelector(".js-tlCard").href="tel:"+form.phone,document.querySelector(".js-emailCard").href="mailto:"+form.email,document.querySelector(".js-linkedinCard").href=form.linkedin,document.querySelector(".js-gitHubCard").href="https://github.com"+form.github,profileImage.style.backgroundImage=`url(${form.photo})`}const resetButton=document.querySelector(".js-resetBtn"),handleReset=function(){form.name="",form.job="",form.email="",form.phone="",form.linkedin="",form.github="",form.photo="url(https://i.picasion.com/pic90/275001457e7c33cd30cbc32e7de2aabe.gif)",localStorage.removeItem("formData");for(const e of inputList)e.value="";profileImage.style.backgroundImage="url(https://i.picasion.com/pic90/275001457e7c33cd30cbc32e7de2aabe.gif)",profilePreview.style.backgroundImage="url(https://i.picasion.com/pic90/275001457e7c33cd30cbc32e7de2aabe.gif)",paintCard(),setLocalStorage(),erasePalettes()};resetButton.addEventListener("click",handleReset);const palette1=document.querySelector(".js-paletteRadio1"),palette2=document.querySelector(".js-paletteRadio2"),palette3=document.querySelector(".js-paletteRadio3"),palette4=document.querySelector(".js-paletteRadio4"),palette1Value=parseInt(palette1.value),palette2Value=parseInt(palette2.value),palette3Value=parseInt(palette3.value),palette4Value=parseInt(palette4.value);function selectPalette1(){form.palette=palette1Value,changeColors(),setLocalStorage()}function selectPalette2(){form.palette=palette2Value,changeColors(),setLocalStorage()}function selectPalette3(){form.palette=palette3Value,changeColors(),setLocalStorage()}function selectPalette4(){form.palette=palette4Value,changeColors(),setLocalStorage()}function changeColors(){const e=document.querySelector(".js-nameCard"),t=document.querySelector(".js-border1"),s=document.querySelector(".js-border2"),a=document.querySelector(".js-circle1"),l=document.querySelector(".js-circle2"),c=document.querySelector(".js-circle3"),r=document.querySelector(".js-circle4"),o=document.querySelector(".js-icon1"),i=document.querySelector(".js-icon2"),n=document.querySelector(".js-icon3"),p=document.querySelector(".js-icon4");!0===palette1.checked&&(e.classList.add("palette1_name"),e.classList.remove("palette2_name"),e.classList.remove("palette3_name"),e.classList.remove("palette4_name"),t.classList.add("palette1_border1"),t.classList.remove("palette2_border1"),t.classList.remove("palette3_border1"),t.classList.remove("palette4_border1"),s.classList.add("palette1_border2"),s.classList.remove("palette2_border2"),s.classList.remove("palette3_border2"),s.classList.remove("palette4_border2"),a.classList.add("palette1_circle1"),a.classList.remove("palette2_circle1"),a.classList.remove("palette3_circle1"),a.classList.remove("palette4_circle1"),l.classList.add("palette1_circle2"),l.classList.remove("palette2_circle2"),l.classList.remove("palette3_circle2"),l.classList.remove("palette4_circle2"),c.classList.add("palette1_circle3"),c.classList.remove("palette2_circle3"),c.classList.remove("palette3_circle3"),c.classList.remove("palette4_circle3"),r.classList.add("palette1_circle4"),r.classList.remove("palette2_circle4"),r.classList.remove("palette3_circle4"),r.classList.remove("palette4_circle4"),o.classList.add("palette1_icon1"),o.classList.remove("palette2_icon1"),o.classList.remove("palette3_icon1"),o.classList.remove("palette4_icon1"),i.classList.add("palette1_icon2"),i.classList.remove("palette2_icon2"),i.classList.remove("palette3_icon2"),i.classList.remove("palette4_icon2"),n.classList.add("palette1_icon3"),n.classList.remove("palette2_icon3"),n.classList.remove("palette3_icon3"),n.classList.remove("palette4_icon3"),p.classList.add("palette1_icon4"),p.classList.remove("palette2_icon4"),p.classList.remove("palette3_icon4"),p.classList.remove("palette4_icon4")),!0===palette2.checked&&(e.classList.remove("palette1_name"),e.classList.add("palette2_name"),e.classList.remove("palette3_name"),e.classList.remove("palette4_name"),t.classList.remove("palette1_border1"),t.classList.add("palette2_border1"),t.classList.remove("palette3_border1"),t.classList.remove("palette4_border1"),s.classList.remove("palette1_border2"),s.classList.add("palette2_border2"),s.classList.remove("palette3_border2"),s.classList.remove("palette4_border2"),a.classList.remove("palette1_circle1"),a.classList.add("palette2_circle1"),a.classList.remove("palette3_circle1"),a.classList.remove("palette4_circle1"),l.classList.remove("palette1_circle2"),l.classList.add("palette2_circle2"),l.classList.remove("palette3_circle2"),l.classList.remove("palette4_circle2"),c.classList.remove("palette1_circle3"),c.classList.add("palette2_circle3"),c.classList.remove("palette3_circle3"),c.classList.remove("palette4_circle3"),r.classList.remove("palette1_circle4"),r.classList.add("palette2_circle4"),r.classList.remove("palette3_circle4"),r.classList.remove("palette4_circle4"),o.classList.remove("palette1_icon1"),o.classList.add("palette2_icon1"),o.classList.remove("palette3_icon1"),o.classList.remove("palette4_icon1"),i.classList.remove("palette1_icon2"),i.classList.add("palette2_icon2"),i.classList.remove("palette3_icon2"),i.classList.remove("palette4_icon2"),n.classList.remove("palette1_icon3"),n.classList.add("palette2_icon3"),n.classList.remove("palette3_icon3"),n.classList.remove("palette4_icon3"),p.classList.remove("palette1_icon4"),p.classList.add("palette2_icon4"),p.classList.remove("palette3_icon4"),p.classList.remove("palette4_icon4")),!0===palette3.checked&&(e.classList.remove("palette1_name"),e.classList.remove("palette2_name"),e.classList.add("palette3_name"),e.classList.remove("palette4_name"),t.classList.remove("palette1_border1"),t.classList.remove("palette2_border1"),t.classList.add("palette3_border1"),t.classList.remove("palette4_border1"),s.classList.remove("palette1_border2"),s.classList.remove("palette2_border2"),s.classList.add("palette3_border2"),s.classList.remove("palette4_border2"),a.classList.remove("palette1_circle1"),a.classList.remove("palette2_circle1"),a.classList.add("palette3_circle1"),a.classList.remove("palette4_circle1"),l.classList.remove("palette1_circle2"),l.classList.remove("palette2_circle2"),l.classList.add("palette3_circle2"),l.classList.remove("palette4_circle2"),c.classList.remove("palette1_circle3"),c.classList.remove("palette2_circle3"),c.classList.add("palette3_circle3"),c.classList.remove("palette4_circle3"),r.classList.remove("palette1_circle4"),r.classList.remove("palette2_circle4"),r.classList.add("palette3_circle4"),r.classList.remove("palette4_circle4"),o.classList.remove("palette1_icon1"),o.classList.remove("palette2_icon1"),o.classList.add("palette3_icon1"),o.classList.remove("palette4_icon1"),i.classList.remove("palette1_icon2"),i.classList.remove("palette2_icon2"),i.classList.add("palette3_icon2"),i.classList.remove("palette4_icon2"),n.classList.remove("palette1_icon3"),n.classList.remove("palette2_icon3"),n.classList.add("palette3_icon3"),n.classList.remove("palette4_icon3"),p.classList.remove("palette1_icon4"),p.classList.remove("palette2_icon4"),p.classList.add("palette3_icon4"),p.classList.remove("palette4_icon4")),!0===palette4.checked&&(e.classList.remove("palette1_name"),e.classList.remove("palette2_name"),e.classList.remove("palette3_name"),e.classList.add("palette4_name"),t.classList.remove("palette1_border1"),t.classList.remove("palette2_border1"),t.classList.remove("palette3_border1"),t.classList.add("palette4_border1"),s.classList.remove("palette1_border2"),s.classList.remove("palette2_border2"),s.classList.remove("palette3_border2"),s.classList.add("palette4_border2"),a.classList.remove("palette1_circle1"),a.classList.remove("palette2_circle1"),a.classList.remove("palette3_circle1"),a.classList.add("palette4_circle1"),l.classList.remove("palette1_circle2"),l.classList.remove("palette2_circle2"),l.classList.remove("palette3_circle2"),l.classList.add("palette4_circle2"),c.classList.remove("palette1_circle3"),c.classList.remove("palette2_circle3"),c.classList.remove("palette3_circle3"),c.classList.add("palette4_circle3"),r.classList.remove("palette1_circle4"),r.classList.remove("palette2_circle4"),r.classList.remove("palette3_circle4"),r.classList.add("palette4_circle4"),o.classList.remove("palette1_icon1"),o.classList.remove("palette2_icon1"),o.classList.remove("palette3_icon1"),o.classList.add("palette4_icon1"),i.classList.remove("palette1_icon2"),i.classList.remove("palette2_icon2"),i.classList.remove("palette3_icon2"),i.classList.add("palette4_icon2"),n.classList.remove("palette1_icon3"),n.classList.remove("palette2_icon3"),n.classList.remove("palette3_icon3"),n.classList.add("palette4_icon3"),p.classList.remove("palette1_icon4"),p.classList.remove("palette2_icon4"),p.classList.remove("palette3_icon4"),p.classList.add("palette4_icon4")),paintCard()}function erasePalettes(){1!=palette1.checked?palette1.checked=!0:(palette2.checked=!0)?palette2.checked=!1:(palette3.checked=!0)?palette3.checked=!1:(palette4.checked=!0)&&(palette4.checked=!1),changeColors()}palette1.addEventListener("click",selectPalette1),palette2.addEventListener("click",selectPalette2),palette3.addEventListener("click",selectPalette3),palette4.addEventListener("click",selectPalette4);const btnShare=document.querySelector(".collapsableShare__btn"),twitterCollapsable=document.querySelector(".collapsableShare__createLink");function createCard(){showLink(),sendRequest()}function showLink(){btnShare.classList.add("btnClick"),twitterCollapsable.classList.remove("hideCollapsable")}btnShare.addEventListener("click",createCard);const menu=document.querySelector(".navShare");function shareBorder(){menu.classList.toggle("hideLineShare")}menu.addEventListener("click",shareBorder);const twitterUrl=document.querySelector(".collapsableShare__createLink--twitterLink");function sendRequest(){fetch("https://us-central1-awesome-cards-cf6f0.cloudfunctions.net/card/",{method:"POST",body:JSON.stringify(form),headers:{"content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){showURL(e)})).catch((function(e){console.log(e)}))}function showURL(e){e.success?twitterUrl.innerHTML="<a href="+e.cardURL+">"+e.cardURL+"</a>":twitterUrl.innerHTML="ERROR:"+e.error,createCard()}function setLocalStorage(){localStorage.setItem("formData",JSON.stringify(form))}function getLocalStorage(){const e=JSON.parse(localStorage.getItem("formData"));null!==e&&(form=e),paintCard(),listenSaveField()}getLocalStorage();